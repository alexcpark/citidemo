<html>
	<head>
		<title>Skillport Demo</title>
	    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
	    <meta http-equiv="X-UA-Compatible" content="IE=edge">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
		<link href="https://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" rel="stylesheet" type="text/css" />
		<link href="https://maxcdn.bootstrapcdn.com/twitter-bootstrap/2.2.2/css/bootstrap.min.nr.css" rel="stylesheet">

		<script src="https://api.v2.badgeville.com/sdk/js/v1/badgeville.js#key=9c2bcfccb3074a941b91b6133bf1882e&sites_id=562e576062f1c1c7ea000995"></script>

		<link rel="stylesheet" href="http://town.badgeville.com/april/cairo-viz-colorManager/compressed/bvVisualize-light-teal.css" type="text/css" />
		<script src="http://town.badgeville.com/april/cairo-viz-colorManager/compressed/bvVisualize.js"></script>

		<script type="text/javascript" src="https://www.dropbox.com/s/kmusk5ewz7qwo39/bv-template.js?dl=1"></script>
		<link rel="stylesheet" href="https://www.dropbox.com/s/u58fizzccpqhx6w/bv-template.css?dl=1" type="text/css" media="screen" />

	</head>

	<body id="bv-page-guide">
		
		    <!-- Fixed customer branding -->
			<div class="page-brand">
		      <div class="container">
		        <div class="row">
		          <div class="span12">
		            <a class="brand" href="/">&nbsp;</a>
		            <p>E-Learning & Online Training Coursess</p>
		          </div>
		        </div>
		      </div>
		    </div>

		    <!-- Fixed navbar -->
		    <nav class="navbar">
		      <div class="navbar-inner">

		        <div class="span12" style="float:none; margin:auto;">

		          <ul class="nav">
		            <!--li><a href="#">Home</a></li-->
		            <li class="nav-profile"><a href="http://badgeville.io/564246e6226fce2024002092?player_id=5638b87fd1b4cf612b001aeb">Profile</a></li>
		            <li class="nav-community"><a href="http://badgeville.io/564246f35ec7a95247002023?player_id=5638b87fd1b4cf612b001aeb">Community</a></li>
		            <li class="nav-guide"><a href="http://badgeville.io/564247006fb7096290001de3?player_id=5638b87fd1b4cf612b001aeb">Guide</a></li>
					<li class="nav-about"><a href="http://badgeville.io/5642470c6907ff44b7001f9d?player_id=5638b87fd1b4cf612b001aeb">About</a></li>
		            <li class="nav-link"><a href="#?player_id=5638b87fd1b4cf612b001aeb">Link</a></li>
		          </ul>
		        </div><!--/.navbar-inner -->

		      </div><!-- /.container -->
		    </nav><!-- /.navbar -->

			<!-- Fixed header content -->
		    <div class="page-header">
		      <div class="container">
		        <div class="row">
		          <div class="span2">
		            <!-- BVVIZ - img tag to be filled with player image src url (please set with API) -->
					<img class="header-profile-image">
		          </div>
		          <div class="span10">
		            <!-- BVVIZ - h2 tag to be filled with player name (please set on player create) -->
					<h2 class="header-profile-name"></h2>
		            <!-- BVVIZ - p tags to be filled with player name (please set on player create) -->
					<div class="row header-profile-info">
		              <div class="span5">
		                <ul class="header-profile-info-container">
							<li class="header-profile-title"></li>
			                <li class="header-profile-team header-profile-department"></li>
							<li class="header-profile-location"></li>
						</ul>
		                <!-- BVVIZ - DIV tag to be filled with playerCard display -->
						<div id="BVVIZ-playerRow" class="bvviz bvviz-playerRow"></div>
		              </div>
		              <!--<div class="span5">-->
		                <!-- BVVIZ - (DIV tag to be filled with playerCard display) -->
		                <!--<div id="BVVIZ-levelProgress" style="width:150px;" class="bvviz bvviz-levelProgress"></div>-->
		              <!--</div>-->
					  <div class="span5">
					  	<div id="BVVIZ-playerStats"></div>
						<div id="BVVIZ-customContainer-0"></div>
					  </div>
					  </div>
		            </div>
		          </div>
		        </div>
		      </div>
		    </div>

		<!-- START CONTENT -->

		    <div class="page-main">

		      <div class="main-section" style="display: block;">

		        <div class="container">

		          <div class="main-section-title">Program Guide</div>

		          <div class="row">
		            <div class="span8">
		              <div class="main-section-block-title">Overview</div><!-- Summary, How to play, Expected flow: perform activities here, return here! -->
		              
		            </div>
		            <div class="span4">
		              <div class="main-section-block-title">Quick Tips</div>
		              <!-- DIV tag to be filled with missionTutorial display -->
		              <!-- <div id="BVVIZ-missionTutorial" style="width:300px;height:290px;" class="bvviz bvviz-missionTutorial"></div>-->
		            </div>
		          </div><!-- /.row -->

		        </div><!-- /.container -->

		      </div><!-- /.main-section -->

		      <div class="main-section main-section-extended" style="display: block;">

		        <div class="container">

		          <div class="main-section-title">Program Detail</div>

		          <div class="row">
		            <div class="span8">
		              <!-- nested row -->
		              <div class="row">
		                <div class="span8">
		                  <div class="main-section-block-title">Target Behaviors</div>
		                  <!-- DIV tag to be filled with playerMission display -->
		                  <!-- <div id="BVVIZ-missionRewards-1"></div>-->
		                </div>
		                <div class="span8">
		                  <div class="main-section-block-title">Goals</div>
						  <!-- DIV tag to be filled with playerMission display -->
						 <!--  <div id="BVVIZ-missionRewards-2"></div>-->
						</div>
		              </div><!-- /.row -->
		            </div>
					<div class="span4">
		              <div class="main-section-block-title">Best Practices</div>
		              <!-- DIV tag to be filled with playerStream display -->
		              <!-- <div id="BVVIZ-playerStream"></div> -->
		            </div>
		          </div><!-- /.row -->

		        </div><!-- /.container -->

		      </div><!-- /.main-section -->

		    </div><!-- /.page-main -->
	
		<!-- END CONTENT -->
		
		<div class="footer">
			<ul class="nav nav-bottom">
				<!--li><a href="#">Home</a></li-->
				<li><a href="http://badgeville.io/564246e6226fce2024002092?player_id=5638b87fd1b4cf612b001aeb">PROFILE</a></li>
				<li><a href="http://badgeville.io/564246f35ec7a95247002023?player_id=5638b87fd1b4cf612b001aeb">COMMUNITY</a></li>
				<li><a href="http://badgeville.io/564247006fb7096290001de3?player_id=5638b87fd1b4cf612b001aeb">GUIDE</a></li>
				<li><a href="http://badgeville.io/5642470c6907ff44b7001f9d?player_id=5638b87fd1b4cf612b001aeb">ABOUT</a></li>
				<li><a href="#?player_id=5638b87fd1b4cf612b001aeb">LINK</a></li>
				<li><a href="http://www.badgeville.com">Powered by <img src="https://badgeville.com/images/logo.png" class="bv-logo-small"></a></li>
			</ul>
		</div>
		    <script type="text/javascript">

		      var BVProfile = function() {

		        var pub = {},

		            // Configuration settings
		            notFoundMsg = 'Badgeville player not found',
		            defaultImg = 'http://bvconnectors.badgeville.com/bvviz/images/person.png',
		            warning = $( '<div class="container">' ).append(
		                        $( '<div class="alert">' ).append(
		                          $( '<strong>Warning!</strong>' ).append( ' Please check your site settings and the players involved.' )
		                        )
		                      ),

		            // global variables to store the instance of visualizations
		            playerRow,
					playerStats,
					certificationsHeader,
					levelProgress,
		            trackProgress1,
					trackProgress2,
					trackProgress3,
					trackProgress4,
		            missionTutorial,
		            specialization,
		            milestones,
		            achievements,
				    siteActivities,
					assetLBs,
					coursesLBAll,
					playerActivities;


		        // Utility function
		        function parseURLParam( query ) {
		          var o = {};
		          query = (query.indexOf('?') === 0) ? query.substr(1) : query ;
		          var p = query.split('&');
		          for ( var i=0; i<p.length; i++ ) {
		            var q = p[i].split('=');
		            if ( q[1] && q[1] != '' ) {
		              o[q[0]] = q[1];
		            }
		          }
		          return o;
		        }

		        function handleImgErrorFailover( target ) {
		          // Try to fix the the broken image in the activity stream by replacing the source extension
		          target.find('img').one( 'error', function( event ){
		            this.src = this.src.toString().replace( '.jpg', '.png' );
		          })
		        }

		        function showProfile( flag, playerObj ) {
		          var profileImage = playerObj && playerObj.image ? playerObj.image : defaultImg,
		              profileName = playerObj && playerObj.display_name || playerObj && plaerObj.name || 'Unknown',
		              playerId;

		          if ( $.isPlainObject( playerObj ) ) {
		            playerId = playerObj.id + '';

		            // Retrieve the 'job_title' and 'department' data from player's custom attributes, 
		            // The attributes of 'job_title' and 'department' need to be set up from admin console
		            BVSDK( 'players', { players: playerId }, { fields:'custom' } )
		              .ok( function( data ) {
		                if ( BVVIZ.utility.validateNestedObj( data, 'players', [0], 'custom' ) ) {
		                  var playerCustom = data.players[0].custom;
						  $( '.header-profile-title' ).append( playerCustom.job_title ? playerCustom.job_title + ',&nbsp;' : 'Job title (n/a),&nbsp;' );
		                  $( '.header-profile-team' ).append( playerCustom.department ? playerCustom.department + ',&nbsp;' : 'Department (n/a),&nbsp;' );
						  $( '.header-profile-location' ).append( playerCustom.Location ? playerCustom.Location : 'Location (n/a)' );
		                }
		              });

		            $( '.header-profile-name' ).text( profileName );
		            $( '.header-profile-image' ).attr( 'src', profileImage );

		            // If the playerProfile function is defined, add event handler
		            if ( $.isFunction( BVVIZ.playerProfile ) ) {
		              $( '.header-profile-image' ).bind( 'click', function() {
		                BVVIZ.helper.showModal( BVVIZ.playerProfile, [ playerId ] );
		              });
		            }

		            // Show page main
		            $( '.main-section').show();

		            // Initialize the visualizations
		            loadBVVIZ( playerId );

		          } else {
		            renderNotFound();
		          }
		        }

		        // Default display when player not found
		        function renderNotFound() {
		          $( '.header-profile-name' ).text( notFoundMsg )
		          $( '.header-profile-image' ).attr( 'src', defaultImg );
		          $( '.page-main' ).empty().prepend( warning );
		        }

		        // Initialize the visualizations
		        function loadBVVIZ( playerId ) {
		          // Render a playerRow visualizations for the player provided
		          playerRow = BVVIZ.playerRow(
		              $( '#BVVIZ-playerRow' ),
		              playerId, // playerId
					  {
				  		  maxIcons:0
					  }
		          );

		          // Render a customContainer visualization with options for the player provided
		          playerStats = BVVIZ.playerRewards(
		            $( '#BVVIZ-playerStats' ),
		            playerId, // playerId
					// options for current visualization instance
		            {
      				  // Whether the header should be rendered
      				  inline: true,
						
			          // Category can be used to filter the data, default is null which request all cards, example: 'education'
			          category: 'stats',
					  
		            }
		          );
				  
		          // Render a customContainer visualization with options for the player provided
		          certificationsHeader = BVVIZ.customContainer(
		            $( '#BVVIZ-customContainer-0' ),
		            playerId, // playerId
		            // options for current visualization instance
		            {
		              // Whether the containter frame (i.e. header, border and background) should be displayed
		              showContainerFrame: false,
						
			          // Category can be used to filter the data, default is null which request all cards, example: 'education'
			          category: 'expertise',

		              // Contents and the order included in the custom container, default has all 3 types
		              contentsTypes: ['tracks'],

		              // Contents options
		              contents: {

		                badges: {

		                  // miniBadge shows a smaller badge icon
		                  miniBadge: false
		                }
		              }
		            }
		          );
				  
				  // Render a trackProgress visualization with options for the player provided
				  trackProgress1 = BVVIZ.trackProgress(
				  	$( '#BVVIZ-trackprogress-1' ),
					playerId, // playerId
					'5638b6af5ec7a9001b001a5c', // trackId
					// options for current visualization instance
				    {
				    	// Whether the header should be rendered
						inline: true,
				    }
				  );
				  
				  // Render a trackProgress visualization with options for the player provided
				  trackProgress2 = BVVIZ.trackProgress(
				  	$( '#BVVIZ-trackprogress-2' ),
					playerId, // playerId
					'5638b7561c19fa5f07001c0d', // trackId
					// options for current visualization instance
				    {
				    	// Whether the header should be rendered
						inline: true,
				    }
				  );
				  
				  // Render a trackProgress visualization with options for the player provided
				  trackProgress3 = BVVIZ.trackProgress(
				  	$( '#BVVIZ-trackprogress-3' ),
					playerId, // playerId
					'5638b7ae7369b2cfd1001c25', // trackId
					// options for current visualization instance
				    {
				    	// Whether the header should be rendered
						inline: true,
				    }
				  );
				  
				  // Render a trackProgress visualization with options for the player provided
				  trackProgress4 = BVVIZ.trackProgress(
				  	$( '#BVVIZ-trackprogress-4' ),
					playerId, // playerId
					'5638b7dd280aab6efc001abc', // trackId
					// options for current visualization instance
				    {
				    	// Whether the header should be rendered
						inline: true,
				    }
				  );
				  
				  // Render a levelProgress visualization for the player provided
		          levelProgress = BVVIZ.levelProgress(
		            $( '#BVVIZ-levelProgress' ),
		            playerId, // playerId
		            '55ef61106d11ef7010002ecb' // missionId (level mission)
		          );

		          // Render a missionTutorial visualization for the player provided
		          missionTutorial = BVVIZ.missionTutorial(
		            $( '#BVVIZ-missionTutorial' ),
		            playerId, // playerId
		            '5636b2d17369b28fad000db5', // missionId (tutorial mission)
		            true
		          );

		          // Render a missionRewards visualization for the player provided.
		          milestones = BVVIZ.missionRewards(
		            $( '#BVVIZ-missionRewards-1' ),
		            playerId, // playerId
					'5637c0ce7369b2f8bf00153c', // missionId
		            // options for current visualization instance
		            {
     				  // Whether the header should be rendered
     				  inline: false,
					  
					  // Whether the containter frame (i.e. header, border and background) should be displayed
		              showContainerFrame: false,

		              // Contents options
		              contents: {

		                badges: {

		                  // miniBadge shows a smaller badge icon
		                  miniBadge: false
		                }
		              }
		            }
		          );

		          // Render a missionRewards visualization for the player provided
		          achievements = BVVIZ.missionRewards(
		            $( '#BVVIZ-missionRewards-2' ),
		            playerId, // playerId
					'5637c0726907ff52b600147d', // missionId
		            // options for current visualization instance
		            {
     				  // Whether the header should be rendered
     				  inline: false,
					  
					  // Whether the containter frame (i.e. header, border and background) should be displayed
		              showContainerFrame: false,

		              // Contents options
		              contents: {

		                badges: {

		                  // miniBadge shows a smaller badge icon
		                  miniBadge: false
		                }
		              }
		            }
		          );
				  
				  // Render a leaderboard visualization
				  assetLbs = BVVIZ.leaderboard(
				  	$( '#BVVIZ-assetLBs' ),
					[
						'563a6b3cb1f543dcd80005ad',
						'563a6b67d1b4cf64c00004fd',
						'563a6b0f19f2260513000489',
						'563a6b586fb70958a800059e'
					], // leaderboard IDs
					{
						inline: true
					}// Options
				  );
				  
				  // Render a leaderboard visualization
				  coursesLBAll = BVVIZ.leaderboard(
				  	$( '#BVVIZ-coursesLB-All' ),
					[
						'563a6ba26fb709b38b00058f'
					] // leaderboard IDs
					// Options 
				  );
				  
		          // Render a playerStream visualization
		          siteActivities = BVVIZ.siteStream(
		            $( '#BVVIZ-siteStream' ),
		            '563a7f10226fcee39000059f', // Following (consumer = "activity") streamId
		            playerId, // playerId
		            // options for current visualization instance
		            {
		              // Whether the header should be rendered
		              inline: true,
             
		              // Callback handler on completion of stream item
		              itemCompleteCallback: handleImgErrorFailover
		            }
		          );
				  
		          // Render a playerStream visualization
		          playerActivities = BVVIZ.playerStream(
		            $( '#BVVIZ-playerStream' ),
		            '563a7936b1f5431112002c6c', // Following (consumer = "activity") streamId
		            playerId, // playerId
		            // options for current visualization instance
		            {
		              // Whether the header should be rendered
		              inline: true,
             
		              // Callback handler on completion of stream item
		              itemCompleteCallback: handleImgErrorFailover
		            }
		          );
				  
		        }

		        // init function
		        function init() {
		          var paramObj = parseURLParam( window.location.search ),
		              playerId = ( 'player_id' in paramObj ) ? paramObj['player_id'] : null;

		          if ( $.type( playerId ) !== 'string' ) {
		            // Player ID not passed appropriately
		            renderNotFound();
		            return false;
		          }

		          // Call setPlayer using the player id
		          if ( $.type(BVVIZ.currentPlayer) !== 'object' || $.isEmptyObject(BVVIZ.currentPlayer) ) {
		            BVVIZ.setPlayer( playerId, showProfile );
		          }

		        }

		        pub.playerRow = playerRow;
				pub.playerStats = playerStats;
				pub.certificationsHeader = certificationsHeader;
		        pub.levelProgress = levelProgress;
				pub.trackProgress1 = trackProgress1;
				pub.trackProgress2 = trackProgress2;
				pub.trackProgress3 = trackProgress3;
				pub.trackProgress4 = trackProgress4;
		        pub.missionTutorial = missionTutorial;
		        pub.milestones = milestones;
		        pub.achievements = achievements;
				pub.assetLBs = assetLBs;
				pub.coursesLBAll = coursesLBAll;
		        pub.siteActivities = siteActivities;
		        pub.playerActivities = playerActivities;
		        pub.init = init;

		        return pub;
		      }

		      // Always place BVVIZ calls inside a JQuery "ready" block to ensure that the DOM is ready
		      $(function() {
		        // Global reference variable
		        arcDemo = BVProfile();

		        // Initialize the ARC demo page
		        arcDemo.init();

		      });
		    </script>
	</body>
</html>